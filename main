

local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/jensonhirst/Orion/main/source'))()

local Window = OrionLib:MakeWindow({
    Name = "SHETGAME",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "SHETGAMEConfig",
    IntroEnabled = false
})

local BlatantTab = Window:MakeTab({Name = "Blatant"})
local VisualTab = Window:MakeTab({Name = "Visual"})
local ESPTab = Window:MakeTab({Name = "ESP"})
local MiscTab = Window:MakeTab({Name = "Misc/Fun"})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LP = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Global flags
getgenv().Noclip = false
getgenv().FullBright = false
getgenv().NoStun = false
getgenv().BlatantNoStun = false
getgenv().NoBlur = false
getgenv().NoBlockCD = false
getgenv().AntiConfuse = false
getgenv().NoFallDamage = false
getgenv().AntiFireDash = false
getgenv().AbsoluteHeal = false
getgenv().NoVoidFire = false
getgenv().RevealDarkFlames = false
getgenv().DungeonESP = false
getgenv().LivingESP = false
getgenv().TrinketESP = false
getgenv().RemoveNoSpellZones = false

-- === EXACT TRINKET ESP YOU PROVIDED - TOGGLEABLE & DEATH-PROOF ===
local trinketConnections = {}
local trinketInjectionId = nil

local function enableTrinketESP()
    if trinketInjectionId then return end

    local trinkets = {
        ["10681298319"] = "Idol",
        ["11468548833"] = "Crucifix",
        ["5603610480"] = "Aurant",
    }
    local colors = {
        ["Goblet"] = Color3.new(1, 1, 1),
        ["Idol"] = Color3.new(0, 1, 1),
        ["Crucifix"] = Color3.fromRGB(196, 40, 28),
        ["Aurant"] = Color3.fromRGB(124, 32, 55),
    }
    local genv = getgenv()
    local camera = workspace.CurrentCamera
    local trinketFolder = workspace.Thrown
    local startPosition = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y - 150)
    
    genv.injections = (genv.injections or 0) + 1
    local currentInject = genv.injections
    trinketInjectionId = currentInject

    function screenSpacePosition(position)
        local pos, on = camera:WorldToScreenPoint(position)
        return Vector2.new(pos.X, pos.Y), on
    end
    function distance(positionA, positionB)
        return math.floor((positionB - positionA).Magnitude)
    end
    function createLine(position, color)
        local Line = Drawing.new("Line")
        Line.Visible = true
        Line.From = startPosition
        position = position - Vector2.new(0, 100)
        Line.To = position
        Line.Color = color
        Line.Thickness = 2
        Line.Transparency = 1
        return Line
    end
    function createText(text, position, color)
        local drawing = Drawing.new("Text")
        drawing.Text = text
        drawing.Size = 14
        drawing.Center = true
        drawing.Position = position
        drawing.Color = color or Color3.new(1, 1, 1)
        drawing.Outline = true
        drawing.OutlineColor = Color3.fromRGB(25, 25, 25)
        drawing.Font = 2
        drawing.Visible = true
        return drawing
    end
    function getTrinketInfo(trinket)
        local matchMeshId
        if trinket:FindFirstChildOfClass("SpecialMesh") then
            matchMeshId = trinket.Mesh.MeshId
        elseif trinket:IsA("MeshPart") then
            matchMeshId = trinket.MeshId
        else
            return false
        end
        local meshId
        meshId = string.match(matchMeshId, "%d+$")
        if not meshId then
            return false
        end
        local realName = trinkets[meshId]
        if not realName then
            return false
        end
        local character = game.Players.LocalPlayer.Character
        local trinketDistance = "???"
        if character then
            trinketDistance = distance(trinket.Position, character.HumanoidRootPart.Position)
        end
        local text = string.format("%s [%s]", realName, trinketDistance)
        local position, display = screenSpacePosition(trinket.Position)
        local color = colors[realName]
        return text, position, display, color
    end
    function createTrinketText(trinket)
        local text, position, display, color = getTrinketInfo(trinket)
        if text == false then
            return false
        end
        task.spawn(function()
            local drawing = createText(text, position, color)
            local line = createLine(position, color)
            while trinket.Parent ~= nil and currentInject == genv.injections do
                text, position, display = getTrinketInfo(trinket)
                drawing.Text = text
                drawing.Position = position
                drawing.Visible = display
                line.To = position + Vector2.new(0, 15)
                line.From = startPosition
                line.Visible = display
                task.wait()
            end
            line.Visible = false
            line:Remove()
            drawing.Visible = false
            drawing:Remove()
        end)
    end

    for i, trinket in pairs(trinketFolder:GetChildren()) do
        createTrinketText(trinket)
    end

    trinketConnections.childAdded = trinketFolder.ChildAdded:Connect(function(trinket)
        if not currentInject == genv.injections then
            trinketConnections.childAdded:Disconnect()
            return
        end
        createTrinketText(trinket)
    end)

    trinketConnections.viewport = camera:GetPropertyChangedSignal("ViewportSize"):Connect(function()
        if not currentInject == genv.injections then
            trinketConnections.viewport:Disconnect()
            return
        end
        startPosition = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y - 150)
    end)
end

local function disableTrinketESP()
    if not getgenv().injections then return end
    getgenv().injections = getgenv().injections + 1
    trinketInjectionId = nil
    if trinketConnections.childAdded then trinketConnections.childAdded:Disconnect() end
    if trinketConnections.viewport then trinketConnections.viewport:Disconnect() end
    trinketConnections = {}
end

ESPTab:AddToggle({
    Name = "Trinket ESP (Idol/Crucifix/Aurant)",
    Default = false,
    Callback = function(v)
        getgenv().TrinketESP = v
        if v then
            enableTrinketESP()
        else
            disableTrinketESP()
        end
    end
})

LP.CharacterAdded:Connect(function()
    task.wait(1)
    if getgenv().TrinketESP then
        enableTrinketESP()
    end
end)

-- === NOCLIP ===
BlatantTab:AddToggle({
    Name = "Noclip",
    Default = false,
    Callback = function(v)
        getgenv().Noclip = v
    end
})

task.spawn(function()
    local part = nil
    local recent = {}
    while task.wait() do
        if getgenv().Noclip and LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            if not part then
                part = Instance.new("Part")
                part.Size = Vector3.new(5,5,5)
                part.Transparency = 1
                part.CanCollide = false
                part.Anchored = true
                part.Parent = LP.Character
            end
            part.CFrame = LP.Character.HumanoidRootPart.CFrame + Vector3.new(0,1.6,0)
            for _, p in workspace:GetPartsInPart(part) do
                if not p:IsDescendantOf(LP.Character) and p.CanCollide then
                    recent[p] = tick()
                    p.CanCollide = false
                end
            end
            for p, t in recent do
                if tick() - t > 0.1 then
                    p.CanCollide = true
                    recent[p] = nil
                end
            end
        elseif part then
            part:Destroy()
            part = nil
        end
    end
end)

-- === FULL BRIGHT ===
VisualTab:AddToggle({
    Name = "Full Bright",
    Default = false,
    Callback = function(v)
        getgenv().FullBright = v
        if v then
            game.Lighting.Brightness = 1
            game.Lighting.ClockTime = 12
            game.Lighting.FogEnd = 786543
            game.Lighting.GlobalShadows = false
            game.Lighting.Ambient = Color3.fromRGB(178,178,178)
        end
    end
})

-- === NO BLUR ===
VisualTab:AddToggle({
    Name = "No Blur",
    Default = false,
    Callback = function(v)
        getgenv().NoBlur = v
    end
})

RunService.RenderStepped:Connect(function()
    if getgenv().NoBlur and game.Lighting:FindFirstChild("rawr") then
        game.Lighting.rawr:Destroy()
    end
end)

-- === DUNGEON FLOOR ESP ===
ESPTab:AddToggle({
    Name = "Dungeon Floor ESP",
    Default = false,
    Callback = function(v)
        getgenv().DungeonESP = v
    end
})

task.spawn(function()
    local text = Drawing.new("Text")
    text.Center = true
    text.Outline = true
    text.Font = 1
    text.Size = 50
    text.Color = Color3.new(1,1,1)

    local romanValues = {I=1,V=5,X=10,L=50,C=100,D=500,M=1000}
    local function romanToNum(r)
        local num = 0
        local prev = 0
        for i = #r,1,-1 do
            local val = romanValues[r:sub(i,i):upper()]
            if val < prev then num = num - val else num = num + val end
            prev = val
        end
        return num
    end

    while task.wait(0.1) do
        if getgenv().DungeonESP and workspace:FindFirstChild("DungeonPrize") then
            local floor = workspace.DungeonPrize.Floor.SurfaceGui.Frame.Floor
            if floor and floor.Text then
                local roman = floor.Text:match("[IVXLCDM]+")
                if roman then
                    text.Text = "Dungeon Floor: " .. romanToNum(roman)
                    text.Position = Vector2.new(Camera.ViewportSize.X / 2, 120)
                    text.Visible = true
                    continue
                end
            end
        end
        text.Visible = false
    end
end)

-- === LIVING ESP ===
ESPTab:AddToggle({
    Name = "Living ESP",
    Default = false,
    Callback = function(v)
        getgenv().LivingESP = v
    end
})

task.spawn(function()
    local drawings = {}
    RunService.RenderStepped:Connect(function()
        if not getgenv().LivingESP then
            for _, d in drawings do pcall(function() d.Visible = false end) end
            return
        end
        for _, char in workspace.Live:GetChildren() do
            if char:FindFirstChild("Humanoid") and char:FindFirstChild("HumanoidRootPart") then
                local hum = char.Humanoid
                local pos, onScreen = Camera:WorldToViewportPoint(char.HumanoidRootPart.Position)
                if onScreen then
                    if not drawings[char] then
                        drawings[char] = Drawing.new("Text")
                        drawings[char].Center = true
                        drawings[char].Outline = true
                        drawings[char].Font = 3
                        drawings[char].Size = 16
                        drawings[char].Color = Color3.new(1,1,1)
                    end
                    local d = drawings[char]
                    d.Position = Vector2.new(pos.X, pos.Y)
                    d.Text = string.format("[%d/%d] [%d%%]", math.floor(hum.Health), math.floor(hum.MaxHealth), math.floor(hum.Health/hum.MaxHealth*100))
                    d.Visible = true
                else
                    if drawings[char] then drawings[char].Visible = false end
                end
            end
        end
    end)
end)

-- === NO STUN ===
BlatantTab:AddToggle({
    Name = "No Stun",
    Default = false,
    Callback = function(v) getgenv().NoStun = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().NoStun and LP.Character and LP.Character:FindFirstChild("Values") then
        LP.Character.Humanoid.WalkSpeed = LP.Character.Values.Running.Value and 26 or 17
        LP.Character.Humanoid.JumpPower = 50
    end
end)

-- === BLATANT NO STUN ===
BlatantTab:AddToggle({
    Name = "Blatant No Stun",
    Default = false,
    Callback = function(v) getgenv().BlatantNoStun = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().BlatantNoStun and LP.Character then
        LP.Character.Humanoid.WalkSpeed = 26
    end
end)

-- === NO BLOCK CD ===
BlatantTab:AddToggle({
    Name = "No Block CD",
    Default = false,
    Callback = function(v) getgenv().NoBlockCD = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().NoBlockCD and LP.Character and LP.Character:FindFirstChild("BlockCooldown") then
        LP.Character.BlockCooldown:Destroy()
    end
end)

-- === ANTI CONFUSE ===
VisualTab:AddToggle({
    Name = "Anti Confuse",
    Default = false,
    Callback = function(v) getgenv().AntiConfuse = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().AntiConfuse and LP.Character and LP.Character:FindFirstChild("Confused") then
        LP.Character.Confused:Destroy()
    end
end)

-- === NO FALL DAMAGE ===
BlatantTab:AddToggle({
    Name = "No Fall Damage",
    Default = false,
    Callback = function(v) getgenv().NoFallDamage = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().NoFallDamage and game.ReplicatedStorage:FindFirstChild("FallDamage") then
        game.ReplicatedStorage.FallDamage:Destroy()
    end
end)

-- === ANTI FIRE (DASH SPAM) ===
MiscTab:AddToggle({
    Name = "Anti Fire (Dash Spam)",
    Default = false,
    Callback = function(v)
        getgenv().AntiFireDash = v
        if v then
            spawn(function()
                while getgenv().AntiFireDash do
                    game:GetService("ReplicatedStorage").Dash:FireServer()
                    task.wait(0.1)
                end
            end)
        end
    end
})

-- === ABSOLUTE HEAL ===
BlatantTab:AddToggle({
    Name = "Absolute Heal",
    Default = false,
    Callback = function(v) getgenv().AbsoluteHeal = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().AbsoluteHeal and LP.Character and LP.Character:FindFirstChild("NoAbsoluteHeal") then
        LP.Character.NoAbsoluteHeal:Destroy()
    end
end)

-- === NO VOID FIRE ===
BlatantTab:AddToggle({
    Name = "No Void Fire",
    Default = false,
    Callback = function(v) getgenv().NoVoidFire = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().NoVoidFire and LP.Character and LP.Character:FindFirstChild("VoidFire") then
        LP.Character.VoidFire:Destroy()
    end
end)

-- === REVEAL DARK FLAMES ===
VisualTab:AddToggle({
    Name = "Reveal Dark Flames",
    Default = false,
    Callback = function(v) getgenv().RevealDarkFlames = v end
})

RunService.RenderStepped:Connect(function()
    if getgenv().RevealDarkFlames then
        for _, obj in workspace.Thrown:GetDescendants() do
            if obj.Name == "DarkFire" and obj:FindFirstChild("Attachment") then
                local pe = obj.Attachment:FindFirstChildOfClass("ParticleEmitter")
                if pe then pe.Enabled = true end
            end
        end
    end
end)

-- === REMOVE NO SPELL ZONES ===
MiscTab:AddToggle({
    Name = "Remove No Spell Zones",
    Default = false,
    Callback = function(v)
        getgenv().RemoveNoSpellZones = v
        if v and workspace:FindFirstChild("NoSpellZone") then
            workspace.NoSpellZone:Destroy()
        end
    end
})

-- === NAME CHANGER ===
MiscTab:AddTextbox({
    Name = "Name Changer",
    Default = "",
    Callback = function(text)
        if LP.PlayerGui.Bar and LP.PlayerGui.Bar.Health and LP.PlayerGui.Bar.Health:FindFirstChild("IGN") then
            LP.PlayerGui.Bar.Health.IGN.Text = text
        end
    end
})

-- === INSTANT RESET BUTTON ===
MiscTab:AddButton({
    Name = "Instant Reset",
    Callback = function()
        if LP.Character and LP.Character:FindFirstChild("Humanoid") then
            LP.Character.Humanoid.Health = 0
        end
    end
})

OrionLib:Init()
